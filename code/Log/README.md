## 日志系统

1. 使用单例模式`《Effective C++》`实例化日志系统，对服务器运行状态、错误信息和访问数据进行记录，该系统可以实现按天分类，超行分类功能，可以根据实际情况分别使用同步和异步写入两种方式。

2. 异步写入方式，生产者-消费者模型，创建一个后台循环写线程，工作线程将要写的内容push进队列，后台写线程从队列中取出内容，写入磁盘日志文件，其他线程负责添加日志。

3. 如果数据的可靠性和一致性是首要考虑因素，那么建议使用同步日志；如果需要高写入性能并且可以接受一定的数据丢失风险，那么建议使用异步日志。